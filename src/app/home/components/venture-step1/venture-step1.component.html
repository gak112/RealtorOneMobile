<form [formGroup]="ventureForm" style="display: none;">
  <div class="div-formgroup">
    <ion-input type="text" mode="md" label="Venture Name" label-placement="floating" fill="outline"
      placeholder="Enter Venture Name"></ion-input>

  </div>
  <div class="div-formgroup">
    <ion-textarea type="text" mode="md" label="Description" label-placement="floating" fill="outline"
      placeholder="Enter Description" rows="5" style="height: auto;"></ion-textarea>
  </div>
  <div class="div-formgroup">
    <ion-input type="text" mode="md" label="Venture Location" label-placement="floating" fill="outline"
      placeholder="Enter Venture Location"></ion-input>
  </div>
  <div class="div-badges">
    <ion-badge color="tertiary">Banjara Hills</ion-badge>
    <ion-badge color="tertiary">Hyderabad</ion-badge>
    <ion-badge color="tertiary">Hyderabad</ion-badge>
    <ion-badge color="tertiary">Telangana</ion-badge>
    <ion-badge color="tertiary">500075</ion-badge>
  </div>
  <div class="div-formgroup">
    <ion-input type="text" mode="md" label="Venture Website" label-placement="floating" fill="outline"
      placeholder="Enter Venture Website"></ion-input>
  </div>
  <div class="div-upload">
    <ion-label class="upload-label">Upload logo</ion-label>
    <div class="div-add">
      <ion-icon name="cloud-upload-outline" class="icon-upload"></ion-icon>
      <ion-label class="label-add">
        Upload a file or drag and drop
      </ion-label>
      <span class="label-span">.jpg, .jpeg, .png, up to 2MB</span>
    </div>
  </div>
  <div class="div-dataimg2">
    <div class="div-uploading" style="width: auto;">
      <ion-icon name="trash-outline"></ion-icon>
      <ion-img [src]="'assets/img/onlylogo.png'" style="object-fit: contain;"></ion-img>
    </div>
  </div>
  <div class="div-upload">
    <ion-label class="upload-label">Upload Venture Images</ion-label>
    <div class="div-add">
      <ion-icon name="cloud-upload-outline" class="icon-upload"></ion-icon>
      <ion-label class="label-add">
        Upload a file or drag and drop
      </ion-label>
      <span class="label-span">.jpg, .jpeg, .png, up to 2MB</span>
    </div>
  </div>
  <div class="div-venture-images">
    @for (image of [0,1,2]; track image) {
    <div class="div-uploading">
      <ion-icon name="trash-outline"></ion-icon>
      <ion-img [src]="'https://ucarecdn.com/a64fce22-5799-45c3-b980-3d653ca8a4e6~3//nth/0/'"></ion-img>
    </div>
    }
  </div>
  <div class="div-formgroup flex">
    <ion-label class="label-heading">Amenities</ion-label>
    <ion-button size="small" color="warning" (click)="amenitiesList()">
      <ion-icon slot="start" name="add" style="font-size: 14px; color: #000;"></ion-icon>
      Add
    </ion-button>
  </div>
  <div class="div-amenities">
    <h4>Swimming Pool</h4>
  </div>
  <div class="div-formgroup">
    <ion-textarea type="text" mode="md" label="Directors" label-placement="floating" fill="outline"
      placeholder="Enter Directors" rows="5" style="height: auto;"></ion-textarea>
  </div>
  <div class="div-formgroup">
    <ion-input type="text" mode="md" label="Company Name" label-placement="floating" fill="outline"
      placeholder="Enter Company Name"></ion-input>
  </div>
  <div class="div-formgroup">
    <ion-input type="text" mode="md" label="Company Website" label-placement="floating" fill="outline"
      placeholder="Enter Company Website"></ion-input>
  </div>
  <div class="div-formgroup">
    <ion-input type="text" mode="md" label="Facebook Link" label-placement="floating" fill="outline"
      placeholder="Enter Facebook Link"></ion-input>
  </div>
  <div class="div-formgroup">
    <ion-input type="text" mode="md" label="Instagram Link" label-placement="floating" fill="outline"
      placeholder="Enter Instagram Link"></ion-input>
  </div>
  <div class="div-formgroup">
    <ion-input type="text" mode="md" label="Twitter Link" label-placement="floating" fill="outline"
      placeholder="Enter Twitter Link"></ion-input>
  </div>

  <div class="div-upload">
    <ion-label class="upload-label">Upload Brochure</ion-label>
    <div class="div-add">
      <ion-icon name="cloud-upload-outline" class="icon-upload"></ion-icon>
      <ion-label class="label-add">
        Upload a file or drag and drop
      </ion-label>
      <span class="label-span">.jpg, .jpeg, .png, up to 2MB</span>
    </div>
  </div>

  <div class="div-dataimg2">
    <div class="div-uploading" style="width: auto;">
      <ion-icon name="trash-outline"></ion-icon>
      <ion-img [src]="'assets/img/onlylogo.png'" style="object-fit: contain;"></ion-img>
    </div>
  </div>
  <div>
    <div style="display: flex;align-items: center; margin-bottom: 16px;">
      <div style="margin-right: 16px;flex-grow: 1;">
        <ion-input type="text" mode="md" label="Land Area" label-placement="floating" fill="outline"
          placeholder="Enter Land Area"></ion-input>
      </div>
      <div style="width: 100px;">
        <ion-select toggleIcon="caret-down-outline" expandedIcon="caret-up-outline" mode="md" label="Units"
          label-placement="floating" fill="outline" class="select-units">
          <ion-select-option value="Sq Feet">Sq Feet</ion-select-option>
          <ion-select-option value="Sq Yard">Sq Yard</ion-select-option>
          <ion-select-option value="Sq Mtr">Sq Mtr</ion-select-option>
          <ion-select-option value="Acre">Acre</ion-select-option>
        </ion-select>
      </div>
    </div>
  </div>
  <div>
    <div style="display: flex;align-items: center; margin-bottom: 16px;">
      <div style="margin-right: 16px;flex-grow: 1;">
        <ion-input type="text" mode="md" label="Property Size (Build up)" label-placement="floating" fill="outline"
          placeholder="Enter Property Size (Build up)"></ion-input>
      </div>
      <div style="width: 100px;">
        <ion-select toggleIcon="caret-down-outline" expandedIcon="caret-up-outline" mode="md" label="Units"
          label-placement="floating" fill="outline" class="select-units">
          <ion-select-option value="Sq Feet">Sq Feet</ion-select-option>
          <ion-select-option value="Sq Yard">Sq Yard</ion-select-option>
          <ion-select-option value="Sq Mtr">Sq Mtr</ion-select-option>
          <ion-select-option value="Acre">Acre</ion-select-option>
        </ion-select>
      </div>
    </div>
  </div>
  <div style="display: flex;align-items: center;margin-bottom: 16px;">
    <div style="margin: 0;margin-right: 16px;flex-grow: 1;">
      <ion-input type="text" mode="md" label="Open Area" label-placement="floating" fill="outline"
        placeholder="Enter Open Area" style="margin: 0 !important;"></ion-input>
    </div>
    <ion-label class="label-percentage">%</ion-label>
  </div>
  <div class="div-formgroup flex">
    <ion-label class="label-heading">Specifications</ion-label>
    <ion-button size="small" color="warning" (click)="openSpecifications()">
      <ion-icon slot="start" name="add" style="font-size: 14px; color: #000;"></ion-icon>
      Add
    </ion-button>
  </div>
  <app-specview></app-specview>
  <div class="div-input-grid">
    <div class="div-input-sub" [class.active]="actionTab() === 'towerAPT'" (click)="actionTab.set('towerAPT')">
      <div class="div-img-label">
        <ion-img [src]="'assets/img/building.png'"></ion-img>
        <ion-label class="label-text">Tower/Apartment</ion-label>
      </div>
    </div>
    <div class="div-input-sub" [class.active]="actionTab() === 'houseVilla'" (click)="actionTab.set('houseVilla')">
      <div class="div-img-label">
        <ion-img [src]="'assets/img/duplex.png'"></ion-img>
        <ion-label class="label-text">House/Villa</ion-label>
      </div>
    </div>
  </div>
  @if(actionTab() === 'towerAPT') {
  <div class="">
    <div class="div-edit">
      <ion-label class="label-heading">Tower/Apartments</ion-label>
      <ion-button size="small" color="warning" (click)="openTower()">
        <ion-icon slot="start" name="add" style="font-size: 14px; color: #000;"></ion-icon>
        Add
      </ion-button>
    </div>
    @if(isTowerDataOpen()) {
    <app-venture-tower></app-venture-tower>
    }
  </div>
  }
  @if(actionTab() === 'houseVilla') {
  <div class="">
    <div class="div-edit">
      <ion-label class="label-heading">Houses/Villas</ion-label>
      <ion-button size="small" color="warning" (click)="openTower()">
        <ion-icon slot="start" name="add" style="font-size: 14px; color: #000;"></ion-icon>
        Add
      </ion-button>
    </div>
    @if(isTowerDataOpen()) {
    <app-venture-housevilla></app-venture-housevilla>
    }
  </div>
  }
</form>











<form [formGroup]="ventureForm" (ngSubmit)="submit()">
  <!-- Venture Name -->
  <div class="div-formgroup">
    <ion-input
      type="text"
      mode="md"
      label="Venture Name"
      label-placement="floating"
      fill="outline"
      placeholder="Enter Venture Name"
      formControlName="ventureName">
    </ion-input>
    @if (isInvalid('ventureName')) {
      <div class="text-rose-600 text-xs mt-1">
        @if (hasError('ventureName','required')) { Name is required. }
        @if (hasError('ventureName','minlength')) { Minimum 3 characters. }
        @if (hasError('ventureName','maxlength')) { Maximum 80 characters only. }
      </div>
    }
  </div>

  <!-- Description -->
  <div class="div-formgroup">
    <ion-textarea
      type="text"
      mode="md"
      label="Description"
      label-placement="floating"
      fill="outline"
      placeholder="Enter Description"
      rows="5"
      style="height: auto;"
      formControlName="description">
    </ion-textarea>
    @if (isInvalid('description')) {
      <div class="text-rose-600 text-xs mt-1">
        @if (hasError('description','required')) { Description is required. }
        @if (hasError('description','minlength')) { Minimum 10 characters. }
        @if (hasError('description','maxlength')) { Maximum 2000 characters. }
      </div>
    }
  </div>

  <!-- Venture Location -->
  <div class="div-formgroup">
    <ion-input
      type="text"
      mode="md"
      label="Venture Location"
      label-placement="floating"
      fill="outline"
      placeholder="Enter Venture Location"
      formControlName="ventureLocation">
    </ion-input>
    @if (isInvalid('ventureLocation')) {
      <div class="text-rose-600 text-xs mt-1">
        @if (hasError('ventureLocation','required')) { Location is required. }
        @if (hasError('ventureLocation','maxlength')) { Maximum 160 characters. }
      </div>
    }
  </div>

  <!-- Badges (preview) -->
  <div class="div-badges">
    <ion-badge color="tertiary">Banjara Hills</ion-badge>
    <ion-badge color="tertiary">Hyderabad</ion-badge>
    <ion-badge color="tertiary">Hyderabad</ion-badge>
    <ion-badge color="tertiary">Telangana</ion-badge>
    <ion-badge color="tertiary">500075</ion-badge>
  </div>

  <!-- Venture Website -->
  <div class="div-formgroup">
    <ion-input
      type="text"
      mode="md"
      label="Venture Website"
      label-placement="floating"
      fill="outline"
      placeholder="Enter Venture Website"
      formControlName="ventureWebsite">
    </ion-input>
    @if (isInvalid('ventureWebsite')) {
      <div class="text-rose-600 text-xs mt-1">
        @if (hasError('ventureWebsite','url')) { Enter a valid URL (http/https). }
      </div>
    }
  </div>

  <!-- Upload logo -->
  <div class="div-upload">
    <ion-label class="upload-label">Upload logo</ion-label>
    <div class="div-add">
      <ion-icon name="cloud-upload-outline" class="icon-upload"></ion-icon>
      <ion-label class="label-add">Upload a file or drag and drop</ion-label>
      <span class="label-span">.jpg, .jpeg, .png, up to 2MB</span>
    </div>
  </div>

  <!-- Logo preview -->
  <div class="div-dataimg2">
    <div class="div-uploading" style="width: auto;">
      <ion-icon name="trash-outline" (click)="ventureForm.controls.logo.setValue('')"></ion-icon>
      <ion-img [src]="ventureForm.controls.logo.value || 'assets/img/onlylogo.png'" style="object-fit: contain;"></ion-img>
    </div>
  </div>

  <!-- Upload Venture Images -->
  <div class="div-upload">
    <ion-label class="upload-label">Upload Venture Images</ion-label>
    <div class="div-add">
      <ion-icon name="cloud-upload-outline" class="icon-upload"></ion-icon>
      <ion-label class="label-add">Upload a file or drag and drop</ion-label>
      <span class="label-span">.jpg, .jpeg, .png, up to 2MB</span>
    </div>
  </div>

  <!-- Venture Images preview -->
  <div class="div-venture-images">
    @for (image of ventureForm.controls.ventureImages.value; track $index) {
      <div class="div-uploading">
        <ion-icon name="trash-outline" (click)="removeImage($index)"></ion-icon>
        <ion-img [src]="image"></ion-img>
      </div>
    }
  </div>

  <!-- Amenities -->
  <div class="div-formgroup flex">
    <ion-label class="label-heading">Amenities</ion-label>
    <ion-button size="small" color="warning" (click)="amenitiesList()">
      <ion-icon slot="start" name="add" style="font-size: 14px; color: #000;"></ion-icon>
      Add
    </ion-button>
  </div>

  <div class="div-amenities">
    @if ((ventureForm.controls.amenities.value?.length ?? 0) === 0) {
      <h4 class="text-slate-500">No amenities added</h4>
    } @else {
      @for (a of ventureForm.controls.amenities.value; track $index) {
        <h4 class="inline-block mr-2 mb-2 px-3 py-1 rounded-xl bg-slate-100">{{ a }}</h4>
      }
    }
    @if (isInvalid('amenities')) {
      <div class="text-rose-600 text-xs mt-1">Add at least one amenity.</div>
    }
  </div>

  <!-- Directors -->
  <div class="div-formgroup">
    <ion-textarea
      type="text"
      mode="md"
      label="Directors"
      label-placement="floating"
      fill="outline"
      placeholder="Enter Directors"
      rows="5"
      style="height: auto;"
      formControlName="directors">
    </ion-textarea>
    @if (isInvalid('directors')) {
      <div class="text-rose-600 text-xs mt-1">
        @if (hasError('directors','maxlength')) { Maximum 2000 characters. }
      </div>
    }
  </div>

  <!-- Company Name -->
  <div class="div-formgroup">
    <ion-input
      type="text"
      mode="md"
      label="Company Name"
      label-placement="floating"
      fill="outline"
      placeholder="Enter Company Name"
      formControlName="companyName">
    </ion-input>
    @if (isInvalid('companyName')) {
      <div class="text-rose-600 text-xs mt-1">
        @if (hasError('companyName','maxlength')) { Maximum 120 characters. }
      </div>
    }
  </div>

  <!-- Company Website -->
  <div class="div-formgroup">
    <ion-input
      type="text"
      mode="md"
      label="Company Website"
      label-placement="floating"
      fill="outline"
      placeholder="Enter Company Website"
      formControlName="companyWebsite">
    </ion-input>
    @if (isInvalid('companyWebsite')) {
      <div class="text-rose-600 text-xs mt-1">
        @if (hasError('companyWebsite','url')) { Enter a valid URL (http/https). }
      </div>
    }
  </div>

  <!-- Facebook -->
  <div class="div-formgroup">
    <ion-input
      type="text"
      mode="md"
      label="Facebook Link"
      label-placement="floating"
      fill="outline"
      placeholder="Enter Facebook Link"
      formControlName="facebookLink">
    </ion-input>
    @if (isInvalid('facebookLink')) {
      <div class="text-rose-600 text-xs mt-1">
        @if (hasError('facebookLink','url')) { Enter a valid URL (http/https). }
      </div>
    }
  </div>

  <!-- Instagram -->
  <div class="div-formgroup">
    <ion-input
      type="text"
      mode="md"
      label="Instagram Link"
      label-placement="floating"
      fill="outline"
      placeholder="Enter Instagram Link"
      formControlName="instagramLink">
    </ion-input>
    @if (isInvalid('instagramLink')) {
      <div class="text-rose-600 text-xs mt-1">
        @if (hasError('instagramLink','url')) { Enter a valid URL (http/https). }
      </div>
    }
  </div>

  <!-- Twitter -->
  <div class="div-formgroup">
    <ion-input
      type="text"
      mode="md"
      label="Twitter Link"
      label-placement="floating"
      fill="outline"
      placeholder="Enter Twitter Link"
      formControlName="twitterLink">
    </ion-input>
    @if (isInvalid('twitterLink')) {
      <div class="text-rose-600 text-xs mt-1">
        @if (hasError('twitterLink','url')) { Enter a valid URL (http/https). }
      </div>
    }
  </div>

  <!-- Upload Brochure -->
  <div class="div-upload">
    <ion-label class="upload-label">Upload Brochure</ion-label>
    <div class="div-add">
      <ion-icon name="cloud-upload-outline" class="icon-upload"></ion-icon>
      <ion-label class="label-add">Upload a file or drag and drop</ion-label>
      <span class="label-span">.jpg, .jpeg, .png, up to 2MB</span>
    </div>
  </div>

  <!-- Brochure preview -->
  <div class="div-dataimg2">
    <div class="div-uploading" style="width: auto;">
      <ion-icon name="trash-outline" (click)="ventureForm.controls.brochure.setValue('')"></ion-icon>
      <ion-img [src]="ventureForm.controls.brochure.value || 'assets/img/onlylogo.png'" style="object-fit: contain;"></ion-img>
    </div>
  </div>

  <!-- Land Area + Units -->
  <div>
    <div style="display: flex;align-items: center; margin-bottom: 16px;">
      <div style="margin-right: 16px;flex-grow: 1;">
        <ion-input
          type="text"
          mode="md"
          label="Land Area"
          label-placement="floating"
          fill="outline"
          placeholder="Enter Land Area"
          formControlName="landArea">
        </ion-input>
        @if (isInvalid('landArea')) {
          <div class="text-rose-600 text-xs mt-1">
            @if (hasError('landArea','number')) { Enter a valid number. }
            @if (hasError('landArea','maxlength')) { Max 12 digits. }
          </div>
        }
      </div>
      <div style="width: 100px;">
        <ion-select
          toggleIcon="caret-down-outline"
          expandedIcon="caret-up-outline"
          mode="md"
          label="Units"
          label-placement="floating"
          fill="outline"
          class="select-units"
          formControlName="landAreaUnits">
          <ion-select-option value="Sq Feet">Sq Feet</ion-select-option>
          <ion-select-option value="Sq Yard">Sq Yard</ion-select-option>
          <ion-select-option value="Sq Mtr">Sq Mtr</ion-select-option>
          <ion-select-option value="Acre">Acre</ion-select-option>
        </ion-select>
        @if (isInvalid('landAreaUnits')) {
          <div class="text-rose-600 text-xs mt-1">
            @if (hasError('landAreaUnits','required')) { Units required when Land Area filled. }
          </div>
        }
      </div>
    </div>
  </div>

  <!-- Property Size + Units -->
  <div>
    <div style="display: flex;align-items: center; margin-bottom: 16px;">
      <div style="margin-right: 16px;flex-grow: 1;">
        <ion-input
          type="text"
          mode="md"
          label="Property Size (Build up)"
          label-placement="floating"
          fill="outline"
          placeholder="Enter Property Size (Build up)"
          formControlName="propertySizeBuildUp">
        </ion-input>
        @if (isInvalid('propertySizeBuildUp')) {
          <div class="text-rose-600 text-xs mt-1">
            @if (hasError('propertySizeBuildUp','number')) { Enter a valid number. }
            @if (hasError('propertySizeBuildUp','maxlength')) { Max 12 digits. }
          </div>
        }
      </div>
      <div style="width: 100px;">
        <ion-select
          toggleIcon="caret-down-outline"
          expandedIcon="caret-up-outline"
          mode="md"
          label="Units"
          label-placement="floating"
          fill="outline"
          class="select-units"
          formControlName="propertySizeUnits">
          <ion-select-option value="Sq Feet">Sq Feet</ion-select-option>
          <ion-select-option value="Sq Yard">Sq Yard</ion-select-option>
          <ion-select-option value="Sq Mtr">Sq Mtr</ion-select-option>
          <ion-select-option value="Acre">Acre</ion-select-option>
        </ion-select>
        @if (isInvalid('propertySizeUnits')) {
          <div class="text-rose-600 text-xs mt-1">
            @if (hasError('propertySizeUnits','required')) { Units required when Property Size filled. }
          </div>
        }
      </div>
    </div>
  </div>

  <!-- Open Area (%) -->
  <div style="display: flex;align-items: center;margin-bottom: 16px;">
    <div style="margin: 0;margin-right: 16px;flex-grow: 1;">
      <ion-input
        type="text"
        mode="md"
        label="Open Area"
        label-placement="floating"
        fill="outline"
        placeholder="Enter Open Area"
        style="margin: 0 !important;"
        formControlName="openArea">
      </ion-input>
      @if (isInvalid('openArea')) {
        <div class="text-rose-600 text-xs mt-1">
          @if (hasError('openArea','percentRange')) { Enter a % between 0 and 100. }
        </div>
      }
    </div>
    <ion-label class="label-percentage">%</ion-label>
  </div>

  <!-- Specifications -->
  <div class="div-formgroup flex">
    <ion-label class="label-heading">Specifications</ion-label>
    <ion-button size="small" color="warning" (click)="openSpecifications()">
      <ion-icon slot="start" name="add" style="font-size: 14px; color: #000;"></ion-icon>
      Add
    </ion-button>
  </div>
  <app-specview></app-specview>

  <!-- Type tabs -->
  <div class="div-input-grid">
    <div class="div-input-sub" [class.active]="actionTab() === 'towerAPT'" (click)="actionTab.set('towerAPT')">
      <div class="div-img-label">
        <ion-img [src]="'assets/img/building.png'"></ion-img>
        <ion-label class="label-text">Tower/Apartment</ion-label>
      </div>
    </div>
    <div class="div-input-sub" [class.active]="actionTab() === 'houseVilla'" (click)="actionTab.set('houseVilla')">
      <div class="div-img-label">
        <ion-img [src]="'assets/img/duplex.png'"></ion-img>
        <ion-label class="label-text">House/Villa</ion-label>
      </div>
    </div>
  </div>

  <!-- Tower/Apartment section -->
  @if(actionTab() === 'towerAPT') {
    <div class="">
      <div class="div-edit">
        <ion-label class="label-heading">Tower/Apartments</ion-label>
        <ion-button size="small" color="warning" (click)="openTower()">
          <ion-icon slot="start" name="add" style="font-size: 14px; color: #000;"></ion-icon>
          Add
        </ion-button>
      </div>
      @if(isTowerDataOpen()) {
        <app-venture-tower></app-venture-tower>
      }
    </div>
  }

  <!-- House/Villa section -->
  @if(actionTab() === 'houseVilla') {
    <div class="">
      <div class="div-edit">
        <ion-label class="label-heading">Houses/Villas</ion-label>
        <ion-button size="small" color="warning" (click)="openTower()">
          <ion-icon slot="start" name="add" style="font-size: 14px; color: #000;"></ion-icon>
          Add
        </ion-button>
      </div>
      @if(isTowerDataOpen()) {
        <app-venture-housevilla></app-venture-housevilla>
      }
    </div>
  }

  <!-- Actions -->
  <div class="mt-6 flex gap-3">
    <ion-button type="submit">Save</ion-button>
    @if (saving()) { <ion-label class="text-sm text-slate-500">Saving…</ion-label> }
    @if (savedId()) { <ion-label class="text-sm text-emerald-600">Saved ✓ (ID: {{ savedId() }})</ion-label> }
  </div>
</form>





<!-- <ngx-uploadcare-widget class="post-entry-btn" [multiple]="true" [multiple-max]="3" data-crop="300:300"
        [images-only]=true public-key="563d1afa2618816d4d42">
      </ngx-uploadcare-widget> -->